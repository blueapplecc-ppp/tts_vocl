{% extends 'layout.html' %}

{% block content %}
<div class="p-6 space-y-6">
  <h2 class="text-2xl font-bold text-gray-900 dark:text-gray-100">系统设置</h2>

  <div class="bg-white rounded-lg shadow p-6 dark:bg-gray-800 dark:border dark:border-gray-700">
    <h3 class="text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100">TTS配置</h3>
    
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <!-- 音色设置 -->
      <div>
        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">默认音色</label>
        <select class="w-full px-3 py-2 border border-gray-300 rounded-md bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500" disabled>
          {% for voice in config.available_voices %}
          <option value="{{ voice }}" {% if voice == config.default_voice %}selected{% endif %}>
            {{ '女声' if voice == 'female' else '男声' }}
          </option>
          {% endfor %}
        </select>
        <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">当前可用音色</p>
      </div>
      
      <!-- 文本长度限制 -->
      <div>
        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">最大文本长度</label>
        <input type="number" value="{{ config.max_text_length }}" 
               class="w-full px-3 py-2 border border-gray-300 rounded-md bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500" 
               disabled>
        <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">字符数限制</p>
      </div>
      
      <!-- 支持格式 -->
      <div>
        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">支持的文件格式</label>
        <div class="flex flex-wrap gap-2">
          {% for format in config.supported_formats %}
          <span class="px-2 py-1 bg-blue-100 text-blue-800 text-sm rounded dark:bg-blue-900/40 dark:text-blue-200">{{ format }}</span>
          {% endfor %}
        </div>
      </div>
      
      <!-- 并发任务数 -->
      <div>
        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">最大并发任务数</label>
        <input type="number" value="{{ config.max_concurrent_tasks }}" 
               class="w-full px-3 py-2 border border-gray-300 rounded-md bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500" 
               disabled>
        <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">同时处理的任务数量</p>
      </div>
    </div>
    
    <div class="mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-md dark:bg-yellow-900/30 dark:border-yellow-800">
      <div class="flex">
        <div class="flex-shrink-0">
          <svg class="h-5 w-5 text-yellow-400" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
          </svg>
        </div>
        <div class="ml-3">
          <h3 class="text-sm font-medium text-yellow-800 dark:text-yellow-200">安全提示</h3>
          <div class="mt-2 text-sm text-yellow-700 dark:text-yellow-200">
            <p>TTS服务的机密配置（如API密钥）仅在后端使用，不会暴露在前端界面中，确保系统安全。</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- 系统状态 -->
  <div class="bg-white rounded-lg shadow p-6 dark:bg-gray-800 dark:border dark:border-gray-700">
    <h3 class="text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100">系统状态</h3>
    
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <div class="bg-green-50 p-4 rounded-lg dark:bg-green-900/30">
        <div class="flex items-center">
          <div class="flex-shrink-0">
            <svg class="h-6 w-6 text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
          </div>
          <div class="ml-3">
            <p class="text-sm font-medium text-green-800 dark:text-green-200">服务状态</p>
            <p class="text-sm text-green-600 dark:text-green-300">正常运行</p>
          </div>
        </div>
      </div>
      
      <div class="bg-blue-50 p-4 rounded-lg dark:bg-blue-900/30">
        <div class="flex items-center">
          <div class="flex-shrink-0">
            <svg class="h-6 w-6 text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
            </svg>
          </div>
          <div class="ml-3">
            <p class="text-sm font-medium text-blue-800 dark:text-blue-200">TTS引擎</p>
            <p class="text-sm text-blue-600 dark:text-blue-300">火山引擎 v3</p>
          </div>
        </div>
      </div>
      
      <div class="bg-purple-50 p-4 rounded-lg dark:bg-purple-900/30">
        <div class="flex items-center">
          <div class="flex-shrink-0">
            <svg class="h-6 w-6 text-purple-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4" />
            </svg>
          </div>
          <div class="ml-3">
            <p class="text-sm font-medium text-purple-800 dark:text-purple-200">存储</p>
            <p class="text-sm text-purple-600 dark:text-purple-300">阿里云 OSS</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_scripts %}
{{ super() }}
{% endblock %}
